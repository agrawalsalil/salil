{"ast":null,"code":"import { Component, Input, ViewChild, EventEmitter, Output, LOCALE_ID, Inject } from \"@angular/core\";\nimport { SafariDateFormatterPipe } from \"../../core/pipe/safari-date-formatter.pipe\";\nimport { LocalizedDatePipe } from \"../../core/pipe/localized-date.pipe\";\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"line\"];\nexport class ExperienceTimelineComponent {\n  constructor(elRef, renderer, locale) {\n    this.elRef = elRef;\n    this.renderer = renderer;\n    this.locale = locale;\n    this._experiences = [];\n    this.onTimelineChanged = new EventEmitter();\n  }\n\n  get currentPosition() {\n    return this._currentPosition;\n  }\n\n  set currentPosition(value) {\n    if (value) {\n      this._currentPosition = value;\n      this.updateTimelineNavigation();\n    }\n  }\n\n  get experiences() {\n    return this._experiences;\n  }\n\n  set experiences(value) {\n    if (value) {\n      this._experiences = value;\n      this.populateExperienceTimeline();\n    }\n  }\n\n  ngOnInit() {\n    this.offsetWidth = this.elRef.nativeElement.offsetWidth;\n    this.removeEventListener = this.renderer.listen(this.elRef.nativeElement, \"click\", event => {\n      if (event.target && event.target.getAttribute(\"id-position\")) {\n        const targetId = event.target.getAttribute(\"id-position\");\n        this.onTimelineChanged.emit(targetId);\n      }\n    });\n  } // Cleanup by removing the event listener on destroy\n\n\n  ngOnDestroy() {\n    this.removeEventListener();\n  }\n\n  updateTimelineNavigation() {\n    const activePreviousElem = this.line.nativeElement.querySelector(\".milestone.active.current\");\n    this.renderer.removeClass(activePreviousElem, \"current\");\n    const targetElem = this.line.nativeElement.querySelector(`div[id-position=\"${this.currentPosition}\"]`);\n    this.renderer.addClass(targetElem, \"current\");\n  }\n\n  daysBetween(startDate, endDate) {\n    // The .replace() is necessary in order to avoid issues in the Firefox browser.\n    const pointA = new Date(startDate.replace(/-/g, '/'));\n    const pointB = new Date(endDate.replace(/-/g, '/'));\n    return Math.round(Math.abs(+pointA - +pointB) / 8.64e7);\n  }\n\n  retrieveTodayDateAsString() {\n    const today = new Date();\n    return `${today.getMonth() + 1}-${today.getDate()}-${today.getFullYear()}`;\n  }\n\n  populateExperienceTimeline() {\n    let dates = this._experiences.map(experience => experience.startAt); // Adding the current day in order to complete the timeline.\n\n\n    dates.push(this.retrieveTodayDateAsString());\n\n    if (dates && dates.length < 2) {\n      this.renderer.setStyle(this.elRef.nativeElement, \"visibility\", \"hidden\");\n    } else if (dates.length >= 2) {\n      const daysBetween = this.daysBetween(dates[0], dates[dates.length - 1]);\n      const oneDayInPixels = this.offsetWidth / daysBetween; // Draw first date milestone      \n\n      this.renderer.appendChild(this.line.nativeElement, this.createMilestone(1, 0, dates[0]));\n      let i;\n      const lastFrameLoop = dates.length - 1; // Draw the middle date milestones\n\n      for (i = 1; i < lastFrameLoop; i++) {\n        const periodInDays = this.daysBetween(dates[0], dates[i]);\n        const periodWidth = periodInDays * oneDayInPixels;\n        const milestoneElement = this.createMilestone(i + 1, periodWidth, dates[i]);\n\n        if (i == lastFrameLoop - 1) {\n          this.renderer.addClass(milestoneElement, \"current\");\n        }\n\n        this.renderer.appendChild(this.line.nativeElement, milestoneElement);\n      } // Draw last date milestone ( the current frame )\n\n\n      const lastDataMilestone = this.createCurrentTriangle(i + 1);\n      this.renderer.appendChild(this.line.nativeElement, lastDataMilestone);\n    }\n  }\n\n  calculatePosition(leftPosition, offsetWidth) {\n    return leftPosition * 100 / offsetWidth;\n  }\n\n  createMilestone(index, left, date) {\n    const milestoneElement = this.renderer.createElement(\"div\");\n    this.renderer.addClass(milestoneElement, \"milestone\");\n    this.renderer.addClass(milestoneElement, \"active\");\n    const leftPos = this.calculatePosition(left, this.offsetWidth); // Uses at most 95% instead of 100% in order to avoid collision to the arrow icon on the right side of the timeline.\n\n    this.renderer.setStyle(milestoneElement, \"left\", `${Math.min(95, leftPos)}%`);\n    this.renderer.setAttribute(milestoneElement, \"id-position\", index.toString());\n    const labelElement = this.createLabelElement(date.toString());\n    this.renderer.appendChild(milestoneElement, labelElement);\n    return milestoneElement;\n  }\n\n  createCurrentTriangle(index) {\n    const milestoneElement = this.renderer.createElement(\"div\");\n    this.renderer.addClass(milestoneElement, \"milestone\");\n    this.renderer.addClass(milestoneElement, \"active\");\n    this.renderer.addClass(milestoneElement, \"future\");\n    this.renderer.setStyle(milestoneElement, \"left\", \"100%\");\n    return milestoneElement;\n  } // Update this function based on the desired date label formatting.\n\n\n  createLabelElement(date) {\n    const safariDateFormatterPipe = new SafariDateFormatterPipe();\n    const safariDateFormatterPipeValue = safariDateFormatterPipe.transform(date);\n    const localizedDatePipe = new LocalizedDatePipe(this.locale);\n    let month = localizedDatePipe.transform(safariDateFormatterPipeValue, \"MMM\");\n    const labelElement = this.renderer.createElement(\"div\");\n    this.renderer.addClass(labelElement, \"popupSpan\");\n    const monthSpan = this.renderer.createElement(\"span\");\n    this.renderer.addClass(monthSpan, \"month\");\n    this.renderer.appendChild(monthSpan, this.renderer.createText(month));\n    const year = localizedDatePipe.transform(safariDateFormatterPipeValue, \"yyyy\");\n    const yearSpan = this.renderer.createElement(\"span\");\n    this.renderer.addClass(yearSpan, \"year\");\n    this.renderer.appendChild(yearSpan, this.renderer.createText(year));\n    this.renderer.appendChild(labelElement, monthSpan);\n    this.renderer.appendChild(labelElement, yearSpan);\n    return labelElement; // year, E.g: May. 2020\n  }\n\n}\n\nExperienceTimelineComponent.ɵfac = function ExperienceTimelineComponent_Factory(t) {\n  return new (t || ExperienceTimelineComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(LOCALE_ID));\n};\n\nExperienceTimelineComponent.ɵcmp = i0.ɵɵdefineComponent({\n  type: ExperienceTimelineComponent,\n  selectors: [[\"app-experience-timeline\"]],\n  viewQuery: function ExperienceTimelineComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, true);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.line = _t.first);\n    }\n  },\n  inputs: {\n    currentPosition: \"currentPosition\",\n    experiences: \"experiences\"\n  },\n  outputs: {\n    onTimelineChanged: \"onTimelineChanged\"\n  },\n  decls: 5,\n  vars: 0,\n  consts: [[1, \"bottom-container\"], [1, \"lineCont\"], [1, \"line\"], [\"line\", \"\"], [1, \"mainCont\"]],\n  template: function ExperienceTimelineComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelement(2, \"div\", 2, 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"div\", 4);\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\".bottom-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  bottom: -75px;\\n}\\n\\n.mainCont[_ngcontent-%COMP%] {\\n  height: 80%;\\n  width: 100%;\\n  position: relative;\\n  color: white;\\n  font-size: 62px;\\n  text-align: center;\\n  transition: all 0.2s ease-out;\\n}\\n\\n.lineCont[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 20%;\\n}\\n\\n.lineCont[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%] {\\n  height: 3px;\\n  width: 100%;\\n  background: rgba(255, 255, 255, 0.25);\\n  border-radius: 5px;\\n  margin: auto;\\n  top: 50%;\\n  -ms-transform: translateY(-50%);\\n      transform: translateY(-50%);\\n  position: relative;\\n}\\n\\n.milestone[_ngcontent-%COMP%] {\\n  width: 10px;\\n  height: 10px;\\n  background: #fff;\\n  border-radius: 15px;\\n  position: absolute;\\n  top: -6px;\\n  border: 3px solid white;\\n  cursor: pointer;\\n  transition: text-shadow 0.3s linear;\\n}\\n\\n.milestone[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n  width: auto;\\n  height: auto;\\n  padding: 10px;\\n  white-space: nowrap;\\n  color: white;\\n  position: absolute;\\n  top: 20px;\\n  left: -35px;\\n  transition: all 0.1s ease-out;\\n  pointer-events: none;\\n  \\n}\\n\\n.milestone[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%] {\\n  margin-right: 5px;\\n  text-transform: capitalize;\\n}\\n\\n.milestone.current[_ngcontent-%COMP%] {\\n  width: 15px;\\n  height: 15px;\\n  background: #414c73;\\n  top: -8px;\\n  font-size: 22px;\\n  text-shadow: 0 0 15px white;\\n}\\n\\n.milestone.active[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n  top: -40px;\\n  display: block;\\n}\\n\\n.milestone.active.future[_ngcontent-%COMP%] {\\n  width: 1px;\\n  height: 1px;\\n  border-top: 7px solid transparent;\\n  border-bottom: 8px solid transparent;\\n  border-left: 13px solid white;\\n  background: transparent;\\n  border-radius: 0;\\n  border-right: 0;\\n  pointer-events: none;\\n}\\n\\n.milestone.active.current[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n  left: -50px;\\n  top: -50px;\\n}\\n\\n@-webkit-keyframes grow {\\n  0% {\\n    -ms-transform: scale(0.98);\\n    transform: scale(0.98);\\n  }\\n  50% {\\n    -ms-transform: scale(0.99);\\n    transform: scale(0.99);\\n  }\\n  100% {\\n    -ms-transform: scale(0.98);\\n    transform: scale(0.98);\\n  }\\n}\\n\\n@keyframes grow {\\n  0% {\\n    -ms-transform: scale(0.98);\\n    transform: scale(0.98);\\n  }\\n  50% {\\n    -ms-transform: scale(0.99);\\n    transform: scale(0.99);\\n  }\\n  100% {\\n    -ms-transform: scale(0.98);\\n    transform: scale(0.98);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZXhwZXJpZW5jZS9leHBlcmllbmNlLXRpbWVsaW5lL0M6XFxVc2Vyc1xcaGFja2VcXGdpdFxcbGl2ZS1yZXN1bWUvc3JjXFxhcHBcXGV4cGVyaWVuY2VcXGV4cGVyaWVuY2UtdGltZWxpbmVcXGV4cGVyaWVuY2UtdGltZWxpbmUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2V4cGVyaWVuY2UvZXhwZXJpZW5jZS10aW1lbGluZS9leHBlcmllbmNlLXRpbWVsaW5lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0VBQ0EsV0FBQTtBQ0NGOztBRENFO0VBQ0UsV0FBQTtFQUNBLFdBQUE7RUFDQSxxQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFFBQUE7RUFDQSwrQkFBQTtNQUFBLDJCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURHQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtFQUNBLG1DQUFBO0FDQUY7O0FERUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsNkJBQUE7RUFDQSxvQkFBQTtFQUFzQiw2REFBQTtBQ0MxQjs7QURDSTtFQUNFLGlCQUFBO0VBQ0EsMEJBQUE7QUNDTjs7QURFRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtFQUNBLDJCQUFBO0FDQUo7O0FERUU7RUFDRSxVQUFBO0VBQ0EsY0FBQTtBQ0FKOztBREVFO0VBQ0UsVUFBQTtFQUNBLFdBQUE7RUFDQSxpQ0FBQTtFQUNBLG9DQUFBO0VBQ0EsNkJBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLG9CQUFBO0FDQUo7O0FERUU7RUFDRSxXQUFBO0VBQ0EsVUFBQTtBQ0FKOztBRElBO0VBQ0U7SUFJRSwwQkFBQTtJQUNBLHNCQUFBO0VDREY7RURJQTtJQUlDLDBCQUFBO0lBQ0Esc0JBQUE7RUNGRDtFREtBO0lBSUcsMEJBQUE7SUFDQSxzQkFBQTtFQ0hIO0FBQ0Y7O0FEcEJBO0VBQ0U7SUFJRSwwQkFBQTtJQUNBLHNCQUFBO0VDREY7RURJQTtJQUlDLDBCQUFBO0lBQ0Esc0JBQUE7RUNGRDtFREtBO0lBSUcsMEJBQUE7SUFDQSxzQkFBQTtFQ0hIO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9leHBlcmllbmNlL2V4cGVyaWVuY2UtdGltZWxpbmUvZXhwZXJpZW5jZS10aW1lbGluZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib3R0b20tY29udGFpbmVyIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgYm90dG9tOiAtNzVweDtcclxufVxyXG5cclxuLm1haW5Db250IHtcclxuICBoZWlnaHQ6IDgwJTtcclxuICB3aWR0aDogMTAwJTtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtc2l6ZTogNjJweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1vdXQ7XHJcbn1cclxuXHJcbi5saW5lQ29udCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAyMCU7XHJcblxyXG4gIC5saW5lIHtcclxuICAgIGhlaWdodDogM3B4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjUpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgfVxyXG59XHJcblxyXG4ubWlsZXN0b25lIHtcclxuICB3aWR0aDogMTBweDtcclxuICBoZWlnaHQ6IDEwcHg7XHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IC02cHg7XHJcbiAgYm9yZGVyOiAzcHggc29saWQgd2hpdGU7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHRyYW5zaXRpb246IHRleHQtc2hhZG93IDAuM3MgbGluZWFyO1xyXG5cclxuICAucG9wdXBTcGFuIHtcclxuICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDIwcHg7XHJcbiAgICBsZWZ0OiAtMzVweDtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjFzIGVhc2Utb3V0O1xyXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7IC8qIE9ubHkgdGhlIENpcmNsZXMgaW4gdGhlIHRpbWVsaW5lIGFyZSBsaXN0ZW5lZCBieSBldmVudHMuICovXHJcblxyXG4gICAgLm1vbnRoIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbiAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG4gICAgfVxyXG4gIH1cclxuICAmLmN1cnJlbnQge1xyXG4gICAgd2lkdGg6IDE1cHg7XHJcbiAgICBoZWlnaHQ6IDE1cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjNDE0YzczO1xyXG4gICAgdG9wOiAtOHB4O1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gICAgdGV4dC1zaGFkb3c6IDAgMCAxNXB4IHdoaXRlO1xyXG4gIH1cclxuICAmLmFjdGl2ZSAucG9wdXBTcGFuIHtcclxuICAgIHRvcDogLTQwcHg7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICB9XHJcbiAgJi5hY3RpdmUuZnV0dXJlIHtcclxuICAgIHdpZHRoOiAxcHg7XHJcbiAgICBoZWlnaHQ6IDFweDtcclxuICAgIGJvcmRlci10b3A6IDdweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1sZWZ0OiAxM3B4IHNvbGlkIHdoaXRlO1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwO1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAwO1xyXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgfVxyXG4gICYuYWN0aXZlLmN1cnJlbnQgLnBvcHVwU3BhbiB7XHJcbiAgICBsZWZ0OiAtNTBweDtcclxuICAgIHRvcDogLTUwcHg7XHJcbiAgfVxyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGdyb3cge1xyXG4gIDAlIHtcclxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcclxuICAgIC1tb3otdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcclxuICAgIC1vLXRyYW5zZm9ybTogc2NhbGUoMC45OCk7XHJcbiAgICAtbXMtdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMC45OCk7ICAgIFxyXG4gIH1cclxuICAgXHJcbiAgNTAlIHtcclxuICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuOTkpO1xyXG4gICAtbW96LXRyYW5zZm9ybTogc2NhbGUoMC45OSk7XHJcbiAgIC1vLXRyYW5zZm9ybTogc2NhbGUoMC45OSk7XHJcbiAgIC1tcy10cmFuc2Zvcm06IHNjYWxlKDAuOTkpO1xyXG4gICB0cmFuc2Zvcm06IHNjYWxlKDAuOTkpO1xyXG4gIH1cclxuICAgXHJcbiAgMTAwJSB7XHJcbiAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xyXG4gICAgIC1tb3otdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcclxuICAgICAtby10cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xyXG4gICAgIC1tcy10cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xyXG4gICAgIHRyYW5zZm9ybTogc2NhbGUoMC45OCk7XHJcbiAgfVxyXG59IiwiLmJvdHRvbS1jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJvdHRvbTogLTc1cHg7XG59XG5cbi5tYWluQ29udCB7XG4gIGhlaWdodDogODAlO1xuICB3aWR0aDogMTAwJTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtc2l6ZTogNjJweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLW91dDtcbn1cblxuLmxpbmVDb250IHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMjAlO1xufVxuLmxpbmVDb250IC5saW5lIHtcbiAgaGVpZ2h0OiAzcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjUpO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG1hcmdpbjogYXV0bztcbiAgdG9wOiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4ubWlsZXN0b25lIHtcbiAgd2lkdGg6IDEwcHg7XG4gIGhlaWdodDogMTBweDtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC02cHg7XG4gIGJvcmRlcjogM3B4IHNvbGlkIHdoaXRlO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IHRleHQtc2hhZG93IDAuM3MgbGluZWFyO1xufVxuLm1pbGVzdG9uZSAucG9wdXBTcGFuIHtcbiAgd2lkdGg6IGF1dG87XG4gIGhlaWdodDogYXV0bztcbiAgcGFkZGluZzogMTBweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgY29sb3I6IHdoaXRlO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMjBweDtcbiAgbGVmdDogLTM1cHg7XG4gIHRyYW5zaXRpb246IGFsbCAwLjFzIGVhc2Utb3V0O1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgLyogT25seSB0aGUgQ2lyY2xlcyBpbiB0aGUgdGltZWxpbmUgYXJlIGxpc3RlbmVkIGJ5IGV2ZW50cy4gKi9cbn1cbi5taWxlc3RvbmUgLnBvcHVwU3BhbiAubW9udGgge1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG4ubWlsZXN0b25lLmN1cnJlbnQge1xuICB3aWR0aDogMTVweDtcbiAgaGVpZ2h0OiAxNXB4O1xuICBiYWNrZ3JvdW5kOiAjNDE0YzczO1xuICB0b3A6IC04cHg7XG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgdGV4dC1zaGFkb3c6IDAgMCAxNXB4IHdoaXRlO1xufVxuLm1pbGVzdG9uZS5hY3RpdmUgLnBvcHVwU3BhbiB7XG4gIHRvcDogLTQwcHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuLm1pbGVzdG9uZS5hY3RpdmUuZnV0dXJlIHtcbiAgd2lkdGg6IDFweDtcbiAgaGVpZ2h0OiAxcHg7XG4gIGJvcmRlci10b3A6IDdweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLWJvdHRvbTogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBib3JkZXItbGVmdDogMTNweCBzb2xpZCB3aGl0ZTtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1yYWRpdXM6IDA7XG4gIGJvcmRlci1yaWdodDogMDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG4ubWlsZXN0b25lLmFjdGl2ZS5jdXJyZW50IC5wb3B1cFNwYW4ge1xuICBsZWZ0OiAtNTBweDtcbiAgdG9wOiAtNTBweDtcbn1cblxuQGtleWZyYW1lcyBncm93IHtcbiAgMCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICAtbW96LXRyYW5zZm9ybTogc2NhbGUoMC45OCk7XG4gICAgLW8tdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICAtbXMtdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xuICB9XG4gIDUwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuOTkpO1xuICAgIC1tb3otdHJhbnNmb3JtOiBzY2FsZSgwLjk5KTtcbiAgICAtby10cmFuc2Zvcm06IHNjYWxlKDAuOTkpO1xuICAgIC1tcy10cmFuc2Zvcm06IHNjYWxlKDAuOTkpO1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMC45OSk7XG4gIH1cbiAgMTAwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xuICAgIC1tb3otdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgICAtby10cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xuICAgIC1tcy10cmFuc2Zvcm06IHNjYWxlKDAuOTgpO1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMC45OCk7XG4gIH1cbn0iXX0= */\", \"@media screen and (max-width: 1024px) {\\n  .bottom-container[_ngcontent-%COMP%] {\\n    bottom: -90px;\\n  }\\n\\n  .milestone[_ngcontent-%COMP%] {\\n    width: 8px;\\n    height: 8px;\\n    top: -6px;\\n  }\\n  .milestone[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n    left: -40px;\\n    font-size: 15px;\\n  }\\n  .milestone.current[_ngcontent-%COMP%] {\\n    width: 12px;\\n    height: 12px;\\n    top: -8px;\\n  }\\n  .milestone.current[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n    font-size: 18px;\\n  }\\n  .milestone.active.current[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n    top: -45px;\\n    left: -40px;\\n  }\\n}\\n@media screen and (max-width: 880px) {\\n  .bottom-container[_ngcontent-%COMP%] {\\n    bottom: -60px;\\n  }\\n\\n  .milestone[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n    left: -20px;\\n  }\\n  .milestone[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n  .milestone.active.current[_ngcontent-%COMP%]   .popupSpan[_ngcontent-%COMP%] {\\n    left: -25px;\\n  }\\n}\\n@media screen and (max-width: 600px) {\\n  .bottom-container[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZXhwZXJpZW5jZS9leHBlcmllbmNlLXRpbWVsaW5lL0M6XFxVc2Vyc1xcaGFja2VcXGdpdFxcbGl2ZS1yZXN1bWUvc3JjXFxhcHBcXGV4cGVyaWVuY2VcXGV4cGVyaWVuY2UtdGltZWxpbmVcXGV4cGVyaWVuY2UtdGltZWxpbmUuY29tcG9uZW50LnJlcG9uc2l2aXR5LnNjc3MiLCJzcmMvYXBwL2V4cGVyaWVuY2UvZXhwZXJpZW5jZS10aW1lbGluZS9leHBlcmllbmNlLXRpbWVsaW5lLmNvbXBvbmVudC5yZXBvbnNpdml0eS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUk7SUFDSSxhQUFBO0VDQU47O0VER0U7SUFDSSxVQUFBO0lBQ0EsV0FBQTtJQUNBLFNBQUE7RUNBTjtFREVNO0lBQ0ksV0FBQTtJQUNBLGVBQUE7RUNBVjtFREVNO0lBQ0ksV0FBQTtJQUNBLFlBQUE7SUFDQSxTQUFBO0VDQVY7RURFVTtJQUNJLGVBQUE7RUNBZDtFREdNO0lBQ0ksVUFBQTtJQUNBLFdBQUE7RUNEVjtBQUNGO0FES0E7RUFFSTtJQUNJLGFBQUE7RUNKTjs7RURRTTtJQUNJLFdBQUE7RUNMVjtFRE9VO0lBQ0ksYUFBQTtFQ0xkO0VEUU07SUFDSSxXQUFBO0VDTlY7QUFDRjtBRFVBO0VBQ0k7SUFDSSxhQUFBO0VDUk47QUFDRiIsImZpbGUiOiJzcmMvYXBwL2V4cGVyaWVuY2UvZXhwZXJpZW5jZS10aW1lbGluZS9leHBlcmllbmNlLXRpbWVsaW5lLmNvbXBvbmVudC5yZXBvbnNpdml0eS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTAyNHB4KSB7XHJcblxyXG4gICAgLmJvdHRvbS1jb250YWluZXIge1xyXG4gICAgICAgIGJvdHRvbTogLTkwcHg7XHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgLm1pbGVzdG9uZSB7XHJcbiAgICAgICAgd2lkdGg6IDhweDtcclxuICAgICAgICBoZWlnaHQ6IDhweDtcclxuICAgICAgICB0b3A6IC02cHg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLnBvcHVwU3BhbiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IC00MHB4O1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICYuY3VycmVudCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMnB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEycHg7XHJcbiAgICAgICAgICAgIHRvcDogLThweDtcclxuICAgIFxyXG4gICAgICAgICAgICAucG9wdXBTcGFuIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAmLmFjdGl2ZS5jdXJyZW50IC5wb3B1cFNwYW4ge1xyXG4gICAgICAgICAgICB0b3A6IC00NXB4O1xyXG4gICAgICAgICAgICBsZWZ0OiAtNDBweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDg4MHB4KSB7XHJcblxyXG4gICAgLmJvdHRvbS1jb250YWluZXIge1xyXG4gICAgICAgIGJvdHRvbTogLTYwcHg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5taWxlc3RvbmUgeyAgICAgICAgXHJcbiAgICAgICAgLnBvcHVwU3BhbiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IC0yMHB4O1xyXG5cclxuICAgICAgICAgICAgLm1vbnRoIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgJi5hY3RpdmUuY3VycmVudCAucG9wdXBTcGFuIHtcclxuICAgICAgICAgICAgbGVmdDogLTI1cHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xyXG4gICAgLmJvdHRvbS1jb250YWluZXIge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcbn0iLCJAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMDI0cHgpIHtcbiAgLmJvdHRvbS1jb250YWluZXIge1xuICAgIGJvdHRvbTogLTkwcHg7XG4gIH1cblxuICAubWlsZXN0b25lIHtcbiAgICB3aWR0aDogOHB4O1xuICAgIGhlaWdodDogOHB4O1xuICAgIHRvcDogLTZweDtcbiAgfVxuICAubWlsZXN0b25lIC5wb3B1cFNwYW4ge1xuICAgIGxlZnQ6IC00MHB4O1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgfVxuICAubWlsZXN0b25lLmN1cnJlbnQge1xuICAgIHdpZHRoOiAxMnB4O1xuICAgIGhlaWdodDogMTJweDtcbiAgICB0b3A6IC04cHg7XG4gIH1cbiAgLm1pbGVzdG9uZS5jdXJyZW50IC5wb3B1cFNwYW4ge1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgfVxuICAubWlsZXN0b25lLmFjdGl2ZS5jdXJyZW50IC5wb3B1cFNwYW4ge1xuICAgIHRvcDogLTQ1cHg7XG4gICAgbGVmdDogLTQwcHg7XG4gIH1cbn1cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDg4MHB4KSB7XG4gIC5ib3R0b20tY29udGFpbmVyIHtcbiAgICBib3R0b206IC02MHB4O1xuICB9XG5cbiAgLm1pbGVzdG9uZSAucG9wdXBTcGFuIHtcbiAgICBsZWZ0OiAtMjBweDtcbiAgfVxuICAubWlsZXN0b25lIC5wb3B1cFNwYW4gLm1vbnRoIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG4gIC5taWxlc3RvbmUuYWN0aXZlLmN1cnJlbnQgLnBvcHVwU3BhbiB7XG4gICAgbGVmdDogLTI1cHg7XG4gIH1cbn1cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XG4gIC5ib3R0b20tY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG59Il19 */\"]\n});\n/*@__PURE__*/\n\n(function () {\n  i0.ɵsetClassMetadata(ExperienceTimelineComponent, [{\n    type: Component,\n    args: [{\n      selector: \"app-experience-timeline\",\n      templateUrl: \"./experience-timeline.component.html\",\n      styleUrls: [\"./experience-timeline.component.scss\", \"experience-timeline.component.reponsivity.scss\"]\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOCALE_ID]\n      }]\n    }];\n  }, {\n    onTimelineChanged: [{\n      type: Output\n    }],\n    line: [{\n      type: ViewChild,\n      args: [\"line\"]\n    }],\n    currentPosition: [{\n      type: Input\n    }],\n    experiences: [{\n      type: Input\n    }]\n  });\n})();","map":{"version":3,"sources":["C:\\Users\\hacke\\git\\live-resume\\src\\app\\experience\\experience-timeline\\experience-timeline.component.ts","C:\\Users\\hacke\\git\\live-resume\\src\\app\\experience\\experience-timeline\\experience-timeline.component.html"],"names":[],"mappings":"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","sourcesContent":["import { \r\n  Component, OnInit,\r\n  Input, ElementRef,\r\n  ViewChild, EventEmitter,\r\n  Renderer2, OnDestroy,\r\n  Output, LOCALE_ID,\r\n  Inject\r\n} from \"@angular/core\";\r\nimport { IExperience } from \"../experience-interfaces\";\r\nimport { SafariDateFormatterPipe } from \"../../core/pipe/safari-date-formatter.pipe\";\r\nimport { LocalizedDatePipe } from \"../../core/pipe/localized-date.pipe\";\r\n\r\n@Component({\r\n  selector: \"app-experience-timeline\",\r\n  templateUrl: \"./experience-timeline.component.html\",\r\n  styleUrls: [ \"./experience-timeline.component.scss\" , \"experience-timeline.component.reponsivity.scss\"]\r\n})\r\nexport class ExperienceTimelineComponent implements OnInit, OnDestroy {\r\n\r\n  private _experiences: IExperience[] = [];\r\n  private _currentPosition: number;\r\n  private offsetWidth: number;\r\n\r\n  @Output() onTimelineChanged = new EventEmitter<number>();\r\n\r\n  public removeEventListener: () => void;\r\n\r\n  @ViewChild(\"line\") line: ElementRef;\r\n\r\n  constructor(\r\n    private elRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    @Inject(LOCALE_ID) public locale: string\r\n  ) {}\r\n\r\n  @Input() get currentPosition(): number {\r\n    return this._currentPosition;\r\n  }\r\n\r\n  set currentPosition(value: number) {\r\n    if(value) {\r\n      this._currentPosition = value;\r\n      this.updateTimelineNavigation();\r\n    }\r\n  }\r\n\r\n  @Input() get experiences(): IExperience[] {\r\n      return this._experiences;\r\n  }\r\n\r\n  set experiences(value: IExperience[]) {\r\n      if(value) {\r\n        this._experiences = value;\r\n        this.populateExperienceTimeline();\r\n      }\r\n  }\r\n\r\n  ngOnInit() : void {\r\n    this.offsetWidth = this.elRef.nativeElement.offsetWidth;\r\n\r\n    this.removeEventListener = this.renderer.listen(this.elRef.nativeElement, \"click\", (event) => {\r\n      if (event.target && event.target.getAttribute(\"id-position\")) {\r\n        const targetId: number = event.target.getAttribute(\"id-position\");\r\n        this.onTimelineChanged.emit(targetId);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Cleanup by removing the event listener on destroy\r\n  public ngOnDestroy() {\r\n    this.removeEventListener();\r\n  }\r\n  \r\n  updateTimelineNavigation() {\r\n    const activePreviousElem = this.line.nativeElement.querySelector(\".milestone.active.current\");\r\n    this.renderer.removeClass(activePreviousElem, \"current\");\r\n    \r\n    const targetElem = this.line.nativeElement.querySelector(`div[id-position=\"${this.currentPosition}\"]`);\r\n    this.renderer.addClass(targetElem, \"current\");\r\n  }\r\n  \r\n  private daysBetween(startDate: string, endDate: string): number {\r\n    // The .replace() is necessary in order to avoid issues in the Firefox browser.\r\n    const pointA = new Date(startDate.replace(/-/g,'/'));\r\n    const pointB = new Date(endDate.replace(/-/g,'/'));\r\n    return Math.round(Math.abs(+pointA - +pointB) / 8.64e7);\r\n  }\r\n\r\n  private retrieveTodayDateAsString(): string {\r\n    const today = new Date();\r\n    return `${today.getMonth()+1}-${today.getDate()}-${today.getFullYear()}`;\r\n  }\r\n\r\n  populateExperienceTimeline(): void {\r\n\r\n    let dates: string[] = this._experiences.map(experience => experience.startAt);\r\n\r\n    // Adding the current day in order to complete the timeline.\r\n    dates.push(this.retrieveTodayDateAsString());\r\n\r\n    if(dates && dates.length < 2) {\r\n      this.renderer.setStyle(this.elRef.nativeElement, \"visibility\", \"hidden\");\r\n    } \r\n    else if (dates.length >= 2) {\r\n      const daysBetween: number = this.daysBetween(dates[0], dates[dates.length - 1]);\r\n      const oneDayInPixels: number = this.offsetWidth / daysBetween;\r\n      \r\n      // Draw first date milestone      \r\n      this.renderer.appendChild(this.line.nativeElement, this.createMilestone(1, 0, dates[0]));\r\n\r\n      let i: number;\r\n      const lastFrameLoop = dates.length - 1;\r\n\r\n      // Draw the middle date milestones\r\n      for (i = 1; i < lastFrameLoop; i++) {\r\n        const periodInDays: number = this.daysBetween(dates[0], dates[i]);\r\n        const periodWidth: number = periodInDays * oneDayInPixels;\r\n        const milestoneElement = this.createMilestone((i + 1), periodWidth, dates[i]);\r\n\r\n        if(i == lastFrameLoop - 1) {\r\n          this.renderer.addClass(milestoneElement, \"current\");\r\n        }\r\n\r\n        this.renderer.appendChild(this.line.nativeElement, milestoneElement);        \r\n      }\r\n\r\n      // Draw last date milestone ( the current frame )\r\n      const lastDataMilestone = this.createCurrentTriangle(i + 1);\r\n      this.renderer.appendChild(this.line.nativeElement, lastDataMilestone);\r\n    }\r\n  }\r\n\r\n  calculatePosition(leftPosition: number, offsetWidth: number) : number {\r\n    return (leftPosition * 100) / offsetWidth;\r\n  }\r\n\r\n  createMilestone(index: number, left: number, date: string): any {\r\n    const milestoneElement = this.renderer.createElement(\"div\");\r\n    this.renderer.addClass(milestoneElement, \"milestone\");\r\n    this.renderer.addClass(milestoneElement, \"active\");\r\n    const leftPos = this.calculatePosition(left, this.offsetWidth);\r\n    // Uses at most 95% instead of 100% in order to avoid collision to the arrow icon on the right side of the timeline.\r\n    this.renderer.setStyle(milestoneElement, \"left\", `${Math.min(95, leftPos)}%`);\r\n    this.renderer.setAttribute(milestoneElement, \"id-position\", index.toString());\r\n\r\n    const labelElement = this.createLabelElement(date.toString());\r\n\r\n    this.renderer.appendChild(milestoneElement, labelElement);\r\n\r\n    return milestoneElement;\r\n  }\r\n\r\n  createCurrentTriangle(index: number): any {\r\n    const milestoneElement = this.renderer.createElement(\"div\");\r\n    this.renderer.addClass(milestoneElement, \"milestone\");\r\n    this.renderer.addClass(milestoneElement, \"active\");\r\n    this.renderer.addClass(milestoneElement, \"future\");\r\n    this.renderer.setStyle(milestoneElement, \"left\", \"100%\");\r\n    return milestoneElement;\r\n  }\r\n\r\n  // Update this function based on the desired date label formatting.\r\n  createLabelElement(date: string): string {\r\n\r\n    const safariDateFormatterPipe = new SafariDateFormatterPipe();\r\n    const safariDateFormatterPipeValue = safariDateFormatterPipe.transform(date);\r\n    \r\n    const localizedDatePipe = new LocalizedDatePipe(this.locale);\r\n\r\n    let month: any = localizedDatePipe.transform(safariDateFormatterPipeValue, \"MMM\");\r\n    const labelElement = this.renderer.createElement(\"div\");\r\n    this.renderer.addClass(labelElement, \"popupSpan\");\r\n\r\n    const monthSpan = this.renderer.createElement(\"span\");\r\n    this.renderer.addClass(monthSpan, \"month\");\r\n    this.renderer.appendChild(monthSpan, this.renderer.createText(month));\r\n\r\n    const year = localizedDatePipe.transform(safariDateFormatterPipeValue, \"yyyy\");\r\n    const yearSpan = this.renderer.createElement(\"span\");\r\n    this.renderer.addClass(yearSpan, \"year\");\r\n    this.renderer.appendChild(yearSpan, this.renderer.createText(year));\r\n\r\n    this.renderer.appendChild(labelElement, monthSpan);\r\n    this.renderer.appendChild(labelElement, yearSpan);\r\n\r\n    return labelElement; // year, E.g: May. 2020\r\n  }\r\n}","<div class=\"bottom-container\">\r\n    <div class=\"lineCont\"> \r\n        <div class=\"line\" #line></div>\r\n    </div>\r\n    <div class=\"mainCont\"></div>\r\n</div>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}